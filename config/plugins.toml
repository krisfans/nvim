[[plugins]] # dein增强
repo = 'wsdjeg/dein-ui.vim'
on_cmd = 'Dein'
[[plugins]] # dein增强
repo = 'haya14busa/dein-command.vim'

#[[plugins]]
#repo = 'neoclide/coc.nvim'
#rev = 'release'
#hook_add  = 'source $root/config/pluginsoc.nvim.vim'
## if = 'v:false'

[[plugins]]# deo补全
repo = 'Shougo/deoplete.nvim'
on_event = 'InsertEnter'
hook_post_source = 'source $root/config/plugins/deoplete.nvim.vim'
hook_add = 'let g:deoplete#enable_at_startup = 0'
[[plugins]]# deo补全
repo = 'Shougo/neoinclude.vim'
on_event = 'InsertEnter'
[[plugins]]# deo补全
repo = 'Shougo/echodoc.vim'
hook_add = 'source $root/config/plugins/echodoc.vim'
on_event = 'InsertEnter'
[[plugins]]# deo补全
repo = 'deoplete-plugins/deoplete-lsp'
hook_add = '''
let g:deoplete#lsp#handler_enabled = v:true
let g:deoplete#lsp#use_icons_for_candidates = v:true
'''
[[plugins]] # deoplete/ncm2补全补丁
repo = 'roxma/nvim-yarp'
on_if ='!has("nvim")'
[[plugins]]
repo = 'roxma/vim-hug-neovim-rpc'
on_if ='!has("nvim")'

[[plugins]] # buildin lsp
repo = 'neovim/nvim-lspconfig'
on_lua = 'lsp_config'
# if = 'v:false'
on_if = 'has("nvim")'

[[plugins]] # lua 补全框架
repo = 'nvim-lua/completion-nvim'
hook_add = 'source $root/config/plugins/completion-nvim.vim'
hook_source = '''autocmd BufEnter * lua require'completion'.on_attach()'''
on_lua = 'lsp_config'
on_if = 'has("nvim")'
if = 'v:false'
#
[[plugins]] # lua 补全源buffers
repo = 'steelsojka/completion-buffers'
depends = 'completion-nvim'
on_lua = 'lsp_config'
on_if = 'has("nvim")'
on_event = 'InsertEnter'
hook_add = 'let g:completion_word_min_length=2'
if = 'v:false'
[[plugins]] # lua 颜色
repo =  'norcalli/nvim-colorizer.lua'
on_lua = 'lsp_config'
on_if = 'has("nvim")'
# hook_source = '''
#     lua require'colorizer'.setup()
# # '''

[[plugins]] #  lsp
repo = 'autozimu/LanguageClient-neovim'
rev = 'next'
hook_add = 'source $root/config/plugins/LanguageClient-neovim.vim'
hook_post_update = '''
if has('win32') || has('win64')
    call system(
    \ 'powershell -executionpolicy bypass -File install.ps1')
else
    call system('bash install.sh')
endif
'''
on_if = '!has("nvim")'

# [[plugins]]
# repo = 'nvim-treesitter/nvim-treesitter'
# on_lua = 'nvim_treesitter'
[[plugins]] # 语法检查
repo = 'neomake/neomake'
hook_add = 'source $root/config/plugins/neomake.vim'
[[plugins]] # 文件树
repo = 'Shougo/defx.nvim'
hook_add = 'source $root/config/plugins/defx.nvim.vim'
[[plugins]]# 文件树图标
repo = 'kristijanhusak/defx-icons'

[[plugins]] ## 代码片段
repo = 'Shougo/neosnippet.vim'
on_event = 'InsertEnter'
on_ft = 'snippet'
hook_add = 'source $root/config/plugins/neosnippet.vim.vim'
[[plugins]]# 代码片段
repo = 'Shougo/neosnippet-snippets'

[[plugins]] # 对齐
repo = 'junegunn/vim-easy-align'
on_map = '<Plug>(EasyAlign)'
hook_add = '''
    vmap <Enter> <Plug>(EasyAlign)
'''

[[plugins]] # 格式代码
repo = 'sbdchd/neoformat'
hook_add = 'source $root/config/plugins/neoformat.vim'
on_cmd = 'Neoformat'

[[plugins]]  # 检索
repo = 'Yggdroot/LeaderF'
hook_add = 'source $root/config/plugins/LeaderF.vim'
# [[plugins]] # gtags
# repo = 'jsfaint/gen_tags.vim'
# hook_add = 'source $root/config/plugins/gen_tags.vim'

[[plugins]]#函数列表
repo = 'liuchengxu/vista.vim'
hook_add = 'source $root/config/plugins/vista.vim.vim'
[[plugins]] # 自动补全括号
repo = 'jiangmiao/auto-pairs'
on_event = 'InsertEnter'
[[plugins]] # 高亮匹配
repo = 'Yggdroot/hiPairs'
hook_add = 'source $root/config/plugins/hiPairs.vim'

[[plugins]] # 起始界面
repo = 'mhinz/vim-startify'
hook_add = 'source $root/config/plugins/vim-startify.vim'
depends = 'vim-devicons'
[[plugins]] # 启动时间
repo = 'dstein64/vim-startuptime'
on_cmd = 'StartupTime'


# [[plugins]] # airline
# repo = 'vim-airline/vim-airline'
# hook_add = 'let g:airline#extensions#disable_rtp_load = 1'
# # hook_add = '''source $root/config/plugins/airline.vim'
# if = 0
#
# [[plugins]] # airline
# repo = 'vim-airline/vim-airline-themes'
# on_source =  'vim-airline'
# hook_add = 'let g:airline#extensions#disable_rtp_load = 1'
# hook_add = 'source $root/config/plugins/airline.vim'
# if = 'v:false'
#
[[plugins]] # lightline
repo = 'itchyny/lightline.vim'
depends = 'vim-devicons'
hook_add = 'source $root/config/plugins/lightline.vim.vim'
hook_post_source = '''
function! MyFiletype()
    return winwidth(0) > 70 ? (strlen(&filetype) ? &filetype . ' ' . WebDevIconsGetFileTypeSymbol() : 'no ft') : ''
endfunction

function! MyFileformat()
    return winwidth(0) > 70 ? (&fileformat . ' ' . WebDevIconsGetFileFormatSymbol()) : ''
endfunction
'''

[[plugins]] # lightline
repo = 'mengelbrecht/lightline-bufferline'
hook_add = 'source $root/config/plugins/lightline.vim.vim'
# if = 'v:false'

[[plugins]] # 中文帮助
repo = 'yianwillis/vimcdoc'

[[plugins]] # 翻译
repo = 'voldikss/vim-translator'
on_map = '<Plug>Translate'
hook_add = 'source $root/config/plugins/vim-translator.vim'

[[plugins]] # 多光标
repo = 'mg979/vim-visual-multi'
on_event = 'BufEnter'
[[plugins]] # 缩进线
repo = 'Yggdroot/indentLine'
hook_add = 'source $root/config/plugins/IndentLine.vim'
on_event = 'BufEnter'

[[plugins]] # 尾随空格
repo = 'ntpeters/vim-better-whitespace'
hook_add = 'source $root/config/plugins/vim-better-whitespace.vim'
on_event = 'BufEnter'

[[plugins]] # 快速选择窗口
repo = 't9md/vim-choosewin'
hook_add = 'source $root/config/plugins/vim-choosewin.vim'

[[plugins]] # 注释插件
repo = 'scrooloose/nerdcommenter'
on_map = '<Plug>NERDCommenter'
hook_add = '''
source  $root/config/plugins/nerdcommenter.vim
nmap <Space>/ <Plug>NERDCommenterToggle
vmap <Space>/ <Plug>NERDCommenterToggle
'''

[[plugins]] # 关闭buffer而不关闭窗口
repo = 'rbgrouleff/bclose.vim'
hook_add = 'source $root/config/plugins/bclose.vim.vim'

[[plugins]] # 包围
repo = 'tpope/vim-surround'
on_event = 'BufEnter'

[[plugins]] # 语言增强，高亮
repo = 'sheerun/vim-polyglot'
# on_ft = ['python', 'c', 'cpp', 'json','jsonc', 'log','txt']
hook_add = '''
let g:polyglot_disabled = ['latex']
source $root/config/plugins/vim-polyglot.vim
'''

[[plugins]] # cpp高亮
repo = 'octol/vim-cpp-enhanced-highlight'
on_ft = ['c', 'cpp']

[[plugins]] # py高亮
repo = 'vim-python/python-syntax'
on_ft = 'python'

[[plugins]] # 高亮复制
repo = 'machakann/vim-highlightedyank'
on_event = 'BufEnter'

# 语言
[[plugins]] # toml
repo = 'cespare/vim-toml'
on_ft = 'toml'
[[plugins]] # latex插件
repo = 'lervag/vimtex'
on_ft = 'tex'
depends = 'auto-pairs'
hook_add = 'source $root/config/plugins/vimtex.vim'

[[plugins]] # 状态栏图标
repo = 'ryanoasis/vim-devicons'
hook_add  = '''
let g:webdevicons_enable = 1
let g:webdevicons_enable_startify = 1
'''
